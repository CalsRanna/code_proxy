# Code Proxy

<div align="center">

![Code Proxy Logo](asset/logo.png)

**æ™ºèƒ½ Anthropic API ä»£ç†ç®¡ç†å™¨**

[![Flutter](https://img.shields.io/badge/Flutter-3.10+-02569B?style=flat-square&logo=flutter&logoColor=white)](https://flutter.dev/)
[![License](https://img.shields.io/badge/License-Private-red?style=flat-square)](#)
[![Platform](https://img.shields.io/badge/Platform-macOS%20%7C%20Windows%20%7C%20Linux-lightgrey?style=flat-square)](#)

</div>

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [ä¸»è¦ç‰¹æ€§](#ä¸»è¦ç‰¹æ€§)
- [æˆªå›¾é¢„è§ˆ](#æˆªå›¾é¢„è§ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [æ„å»ºè¯´æ˜](#æ„å»ºè¯´æ˜)
- [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

Code Proxy æ˜¯ä¸€ä¸ªä¸“ä¸º Anthropic API è®¾è®¡çš„æ¡Œé¢ä»£ç†æœåŠ¡å™¨ç®¡ç†å·¥å…·ã€‚å®ƒé€šè¿‡æ™ºèƒ½è´Ÿè½½å‡è¡¡ã€æ•…éšœè½¬ç§»å’Œè¯·æ±‚è·¯ç”±ï¼Œå¸®åŠ©ä½ é«˜æ•ˆç®¡ç†å¤šä¸ª API ç«¯ç‚¹ï¼Œç¡®ä¿æœåŠ¡çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ”„ æ™ºèƒ½ä»£ç†
- **å¤šç«¯ç‚¹æ”¯æŒ**ï¼šé…ç½®å¤šä¸ª Anthropic API ç«¯ç‚¹
- **è‡ªåŠ¨æ•…éšœè½¬ç§»**ï¼šç«¯ç‚¹æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯ç‚¹
- **è´Ÿè½½å‡è¡¡**ï¼šæ”¯æŒæƒé‡åˆ†é…ï¼Œåˆç†åˆ†é…è¯·æ±‚è´Ÿè½½
- **æŒ‡æ•°é€€é¿**ï¼šæ™ºèƒ½é‡è¯•ç­–ç•¥ï¼Œé¿å…é¢‘ç¹è¯·æ±‚

### ğŸ“Š ç›‘æ§ä¸æ—¥å¿—
- **å®æ—¶ä»ªè¡¨ç›˜**ï¼šæŸ¥çœ‹è¯·æ±‚ç»Ÿè®¡ã€æˆåŠŸç‡ã€å»¶è¿Ÿç­‰æ•°æ®
- **è¯¦ç»†æ—¥å¿—**ï¼šè®°å½•æ¯æ¬¡è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯
- **å¯è§†åŒ–å›¾è¡¨**ï¼šçƒ­åŠ›å›¾ã€æŸ±çŠ¶å›¾ã€æŠ˜çº¿å›¾å±•ç¤ºæ•°æ®è¶‹åŠ¿
- **Token ç»Ÿè®¡**ï¼šè¿½è¸ª Token ä½¿ç”¨æƒ…å†µ

### âš™ï¸ çµæ´»é…ç½®
- **ç«¯ç‚¹ç®¡ç†**ï¼šæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ API ç«¯ç‚¹
- **ä¸ªæ€§åŒ–è®¾ç½®**ï¼šè‡ªå®šä¹‰è¶…æ—¶æ—¶é—´ã€æ¨¡å‹é…ç½®ç­‰
- **ä¸´æ—¶ç¦ç”¨**ï¼šæ”¯æŒç«¯ç‚¹ä¸´æ—¶ç¦ç”¨å’Œè‡ªåŠ¨æ¢å¤
- **Claude Code ä¼˜åŒ–**ï¼šå¯é…ç½®ç¦ç”¨éå¿…è¦æµé‡

### ğŸ–¥ï¸ æ¡Œé¢é›†æˆ
- **ç³»ç»Ÿæ‰˜ç›˜**ï¼šæœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜è¿è¡Œ
- **å¿«æ·é”®æ”¯æŒ**ï¼šå…¨å±€å¿«æ·é”®å¿«é€Ÿæ“ä½œ
- **å¤šå¹³å°æ”¯æŒ**ï¼šmacOSã€Windowsã€Linux å…¨å¹³å°è¦†ç›–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Flutter SDK 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- Dart SDK 3.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ”¯æŒçš„å¹³å°ï¼šmacOSã€Windowsã€Linux

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd code_proxy

# å®‰è£…ä¾èµ–
flutter pub get
```

### è¿è¡Œåº”ç”¨

```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
flutter run

# æŒ‡å®šå¹³å°è¿è¡Œ
flutter run -d macos
flutter run -d windows
flutter run -d linux
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### 1. æ·»åŠ ç«¯ç‚¹

1. ç‚¹å‡»å·¦ä¾§å¯¼èˆªæ çš„ **ç«¯ç‚¹** å›¾æ ‡
2. ç‚¹å‡» **æ·»åŠ ç«¯ç‚¹** æŒ‰é’®
3. å¡«å†™ç«¯ç‚¹ä¿¡æ¯ï¼š
   - ç«¯ç‚¹åç§°
   - Anthropic API è®¤è¯ä»¤ç‰Œ
   - API Base URLï¼ˆå¯é€‰ï¼‰
   - æ¨¡å‹é…ç½®
4. ç‚¹å‡» **ä¿å­˜**

### 2. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

1. åœ¨ä¸»é¡µé¢æˆ–ä»ªè¡¨ç›˜ç‚¹å‡» **å¯åŠ¨ä»£ç†** æŒ‰é’®
2. é»˜è®¤ç›‘å¬åœ°å€ï¼š`127.0.0.1:9000`
3. åœ¨ä½ çš„åº”ç”¨ä¸­é…ç½®ä»£ç†ï¼š
   ```bash
   export http_proxy=http://127.0.0.1:9000
   export https_proxy=http://127.0.0.1:9000
   ```

### 3. ç›‘æ§è¯·æ±‚

- **ä»ªè¡¨ç›˜**ï¼šæŸ¥çœ‹å®æ—¶ç»Ÿè®¡æ•°æ®
- **è¯·æ±‚æ—¥å¿—**ï¼šæŸ¥çœ‹è¯¦ç»†çš„è¯·æ±‚å†å²
- **ç³»ç»Ÿæ‰˜ç›˜**ï¼šå¿«é€ŸæŸ¥çœ‹ä»£ç†çŠ¶æ€

### 4. é…ç½®è®¾ç½®

1. ç‚¹å‡» **è®¾ç½®** å›¾æ ‡
2. è°ƒæ•´ä»£ç†æœåŠ¡å™¨é…ç½®ï¼š
   - ç›‘å¬åœ°å€å’Œç«¯å£
   - æœ€å¤§é‡è¯•æ¬¡æ•°
   - è¶…æ—¶æ—¶é—´
   - æŒ‡æ•°é€€é¿ç­–ç•¥

## ğŸ”§ æ„å»ºè¯´æ˜

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
# æ¸…ç†æ„å»ºç¼“å­˜
flutter clean
flutter pub get

# æ„å»ºå½“å‰å¹³å°
flutter build

# æˆ–æŒ‡å®šå¹³å°æ„å»º
flutter build macos
flutter build windows
flutter build linux
```

### æ„å»ºè¾“å‡ºä½ç½®

- **macOS**: `build/macos/Build/Products/Release/code_proxy.app`
- **Windows**: `build/windows/x64/runner/Release/code_proxy.exe`
- **Linux**: `build/linux/x64/release/bundle/code_proxy`

### ä¾èµ–ç®¡ç†

```bash
# å‡çº§ä¾èµ–åˆ°æœ€æ–°ç‰ˆæœ¬
flutter pub upgrade --major-versions

# æŸ¥çœ‹è¿‡æ—¶ä¾èµ–
flutter pub outdated

# åˆ†æä»£ç 
flutter analyze

# è¿è¡Œæµ‹è¯•
flutter test
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Flutter 3.10+
- **çŠ¶æ€ç®¡ç†**: signals (signals_flutter)
- **ä¾èµ–æ³¨å…¥**: get_it
- **è·¯ç”±ç®¡ç†**: auto_route
- **UI ç»„ä»¶**: shadcn_ui
- **æ•°æ®åº“**: sqlite3 + laconic ORM
- **HTTP æœåŠ¡å™¨**: shelf
- **å›¾æ ‡**: lucide_icons_flutter
- **å›¾è¡¨**: syncfusion_flutter_charts
- **æ¡Œé¢é›†æˆ**: tray_manager, window_manager

### æ¶æ„æ¨¡å¼

é¡¹ç›®é‡‡ç”¨ **MVVM (Model-View-ViewModel)** æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   View (UI)     â”‚  â† lib/page/
â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ViewModel      â”‚  â† lib/view_model/
â”‚  (State)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Service        â”‚  â† lib/services/
â”‚  (Business)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Repository     â”‚  â† lib/repository/
â”‚  (Data Access)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Model          â”‚  â† lib/model/
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç›®å½•ç»“æ„

```
lib/
â”œâ”€â”€ database/          # æ•°æ®åº“å’Œè¿ç§»
â”œâ”€â”€ model/             # æ•°æ®æ¨¡å‹
â”œâ”€â”€ page/              # UI é¡µé¢
â”œâ”€â”€ repository/        # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ services/          # ä¸šåŠ¡æœåŠ¡
â”‚   â””â”€â”€ proxy_server/  # ä»£ç†æœåŠ¡å™¨æ ¸å¿ƒ
â”œâ”€â”€ view_model/        # è§†å›¾æ¨¡å‹
â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”œâ”€â”€ themes/            # ä¸»é¢˜æ ·å¼
â”œâ”€â”€ util/              # å·¥å…·ç±»
â””â”€â”€ widgets/           # å…±äº«ç»„ä»¶
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª [Flutter é£æ ¼æŒ‡å—](https://github.com/flutter/flutter/wiki/Style-guide-for-Flutter-repo)
- ä½¿ç”¨ `flutter analyze` æ£€æŸ¥ä»£ç 
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

### æäº¤ä¿¡æ¯è§„èŒƒ

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
refactor: é‡æ„ä»£ç 
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼åŒ–
test: æ·»åŠ æµ‹è¯•
chore: æ„å»ºæˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-12-15)

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… æ”¯æŒå¤šç«¯ç‚¹ä»£ç†
- âœ… å®ç°æ•…éšœè½¬ç§»æœºåˆ¶
- âœ… æ·»åŠ å®æ—¶ç›‘æ§ä»ªè¡¨ç›˜
- âœ… æ”¯æŒè¯·æ±‚æ—¥å¿—è®°å½•
- âœ… ç³»ç»Ÿæ‰˜ç›˜é›†æˆ
- âœ… å¤šå¹³å°æ”¯æŒ (macOS/Windows/Linux)

## â“ å¸¸è§é—®é¢˜

### Q: ä»£ç†æœåŠ¡å™¨æ— æ³•å¯åŠ¨ï¼Ÿ

A: è¯·æ£€æŸ¥ï¼š
1. ç«¯å£ 9000 æ˜¯å¦è¢«å ç”¨
2. é˜²ç«å¢™æ˜¯å¦é˜»æ­¢äº†è¿æ¥
3. æ˜¯å¦æœ‰ç«¯ç‚¹é…ç½®

### Q: å¦‚ä½•é…ç½®ç³»ç»Ÿä»£ç†ï¼Ÿ

A: æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿï¼š

**macOS/Linux:**
```bash
export http_proxy=http://127.0.0.1:9000
export https_proxy=http://127.0.0.1:9000
```

**Windows:**
```cmd
set http_proxy=http://127.0.0.1:9000
set https_proxy=http://127.0.0.1:9000
```

### Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ

A: åˆ é™¤åº”ç”¨æ•°æ®ç›®å½•ï¼š
- macOS: `~/Library/Application Support/code_proxy/`
- Linux: `~/.local/share/code_proxy/`
- Windows: `%APPDATA%\code_proxy\`

ç„¶åé‡å¯åº”ç”¨ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºç§æœ‰ä»“åº“ï¼Œç‰ˆæƒå½’ä½œè€…æ‰€æœ‰ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [Flutter](https://flutter.dev/) - UI æ¡†æ¶
- [Dart](https://dart.dev/) - ç¼–ç¨‹è¯­è¨€
- [shelf](https://pub.dev/packages/shelf) - HTTP æœåŠ¡å™¨
- [shadcn_ui](https://pub.dev/packages/shadcn_ui) - UI ç»„ä»¶åº“
- [sqlite3](https://pub.dev/packages/sqlite3) - æ•°æ®åº“

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

Made with â¤ï¸ by [Your Name]

</div>
